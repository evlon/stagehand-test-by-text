# 零代码界面测试解决方案

## 🎯 项目简介

这是一个专为**零代码基础测试人员**设计的智能界面测试工具。你只需要用简单的**纯文本**编写测试步骤，系统会自动执行并生成专业的测试报告。

**无需编程知识 · 无需学习复杂工具 · 专注业务逻辑**

## ⚙️ 环境准备

### 第一步：安装必要软件

#### 1. 安装 Node.js (必需)
**下载地址**: https://nodejs.org/

**选择**: 推荐下载 **LTS 版本** (长期支持版)

**验证安装**:
```bash
node --version
# 应该显示版本号，如: v18.17.0 或更高
```

#### 2. 安装 pnpm (更快的包管理器)
**Windows 系统**:
```bash
# 在命令行中执行
npm install -g pnpm
```

**Mac 系统**:
```bash
# 在终端中执行
npm install -g pnpm
# 或者使用 Homebrew
brew install pnpm
```

**Linux 系统**:
```bash
# 在终端中执行
npm install -g pnpm
# 或者使用包管理器
sudo apt update && sudo apt install pnpm
```

**验证安装**:
```bash
pnpm --version
# 应该显示版本号，如: 8.0.0 或更高
```

#### 3. 安装代码编辑器 (推荐)
**VS Code** (免费且功能强大):
- 下载地址: https://code.visualstudio.com/
- 安装后推荐安装 "Vitest" 扩展，便于测试管理

### 第二步：获取项目代码

```bash
# 从 Git 仓库克隆项目
git clone <项目地址>
# 或者直接下载 ZIP 文件并解压

# 进入项目目录
cd stagehand-text-tests
```

### 第三步：安装项目依赖

```bash
# 使用 pnpm 安装依赖 (比 npm 更快)
pnpm install
```

**安装成功标志**: 会出现 `node_modules` 文件夹，并且命令行显示所有包安装完成。

## 🚀 5分钟快速上手

### 第一步：配置测试环境

```bash
# 复制配置文件模板
cp test-data/credentials.env.example test-data/credentials.env
```

用文本编辑器打开 `test-data/credentials.env` 文件，修改以下关键配置：

```env
# 🔑 测试网站地址 (必填)
TEST_BASE_URL=https://你的测试网站.com

# 👤 测试账号 (必填)
TEST_USER_EMAIL=test@example.com
TEST_USER_PASSWORD=test123456

# 其他配置保持默认即可
BROWSERBASE_API_KEY=你的BrowserBase_API密钥
BROWSERBASE_PROJECT_ID=你的项目ID
```

### 第二步：编写你的第一个测试

在 `tests/scenarios/` 目录下创建 `my-first-test.txt` 文件：

```txt
# 我的第一个界面测试
# 测试网站的基本功能

## 测试用例: 访问首页并检查关键元素
打开首页
检查页面是否包含文本 欢迎
检查页面是否包含 登录按钮
检查页面是否包含 搜索框

## 测试用例: 搜索功能测试
在搜索框中输入 测试产品
点击搜索按钮
检查页面是否包含文本 搜索结果
检查页面是否包含文本 测试产品
```

### 第三步：运行测试

#### 方式一：命令行运行 (快速)
```bash
# 运行所有测试
pnpm test

# 只运行登录测试
pnpm test:login
```

#### 方式二：可视化界面 (推荐新手)
```bash
# 启动可视化测试界面
pnpm test:ui
```
然后在浏览器中打开: `http://localhost:51204`

## 📝 如何编写好的测试用例

### 🎯 最佳实践指南

#### ✅ **这样写 - 明确具体**
```txt
点击登录按钮
在用户名输入框中输入 %TEST_USER_EMAIL%
在密码输入框中输入 %TEST_USER_PASSWORD%
检查页面是否包含文本 欢迎回来
检查页面是否包含 用户头像
```

#### ❌ **避免这样 - 模糊不清**
```txt
点击那个按钮          # ❌ 哪个按钮？
输入内容             # ❌ 在哪个框输入？输入什么？
检查页面             # ❌ 检查什么？
点击蓝色东西          # ❌ 不要用颜色描述
```

### 🛠️ 常用测试步骤模板

#### 1. 导航操作
```txt
打开首页
打开登录页面
打开用户设置页面
刷新页面
返回上一页
```

#### 2. 输入操作
```txt
在搜索框中输入 关键词
在用户名输入框中输入 %TEST_USER_EMAIL%
在密码输入框中输入 %TEST_USER_PASSWORD%
在评论框中输入 这是一条测试评论
```

#### 3. 点击操作
```txt
点击登录按钮
点击提交按钮
点击保存按钮
点击菜单图标
点击确认对话框的确定按钮
```

#### 4. 检查验证
```txt
检查页面是否包含文本 操作成功
检查页面是否包含 错误提示
检查页面是否包含 数据表格
检查页面是否包含文本 欢迎，%TEST_USER_EMAIL%
```

### 📋 完整的测试用例示例

```txt
# 用户登录功能测试
# 作者：张三
# 最后更新：2024-01-15

## 测试用例: 正常登录流程
# 测试用户使用正确账号密码登录
打开登录页面
在用户名输入框中输入 %TEST_USER_EMAIL%
在密码输入框中输入 %TEST_USER_PASSWORD%
点击登录按钮
检查页面是否包含文本 欢迎回来
检查页面是否包含文本 仪表板
截图保存为 登录成功状态

## 测试用例: 密码错误处理
# 验证系统对错误密码的提示
打开登录页面
在用户名输入框中输入 %TEST_USER_EMAIL%
在密码输入框中输入 wrong_password
点击登录按钮
检查页面是否包含文本 密码错误
检查页面是否包含文本 请重新输入
截图保存为 密码错误提示
```

## 🎮 常用命令速查

### 测试执行命令
```bash
# 运行所有测试（最常用）
pnpm test

# 启动可视化测试界面（推荐新手）
pnpm test:ui

# 只运行登录相关的测试
pnpm test:login

# 只运行仪表板相关的测试  
pnpm test:dashboard

# 实时监控模式（修改测试后自动运行）
pnpm test:watch

# 生成测试覆盖率报告
pnpm test:coverage
```

### 缓存管理命令
```bash
# 查看缓存状态（了解测试执行效率）
pnpm cache:stats

# 清除所有缓存（当网站改版后需要执行）
pnpm cache:clear

# 只清除登录相关的缓存
pnpm cache:clear:login
```

## 🏗️ 项目结构说明

```
你的测试项目/
├── tests/scenarios/     # 📝 【你的测试文件放在这里】
│   ├── login.txt       # 登录功能测试
│   ├── dashboard.txt   # 仪表板测试
│   └── my-tests.txt    # 你自己创建的测试文件
├── test-data/          # ⚙️ 配置文件目录
│   └── credentials.env # 环境配置（账号、密码等）
├── cache/              # 💾 自动生成的缓存（不要手动修改）
└── results/            # 📊 自动生成的测试报告
```

## 💡 实用技巧和建议

### 1. **首次执行较慢是正常的**
- 第一次运行测试时，系统需要学习你的操作步骤
- 后续运行会非常快速（快10倍以上）
- 这是智能缓存功能在发挥作用

### 2. **使用注释说明测试意图**
```txt
# 为什么做这个测试？
## 测试用例: 验证新用户注册流程
# 测试背景：新上线了用户注册功能
# 预期结果：用户能够成功注册并收到确认邮件
```

### 3. **分步骤验证关键节点**
```txt
# 不好的写法：
填写整个表单并提交

# 好的写法：
在姓名字段输入 测试用户
在邮箱字段输入 test@example.com  
在密码字段输入 Test123456
点击注册按钮
检查页面是否包含文本 注册成功
检查是否收到欢迎邮件
```

### 4. **处理测试数据**
- 使用 `%变量名%` 来保护敏感信息
- 测试账号密码放在 `credentials.env` 中
- 为不同测试环境准备不同的配置

## 🔧 故障排除

### ❓ 环境安装问题
**pnpm 安装失败**:
```bash
# 如果 pnpm 安装失败，临时使用 npm
npm install
npm test
```

**Node.js 版本过低**:
- 访问 Node.js 官网下载最新 LTS 版本
- 卸载旧版本后重新安装

### ❓ 测试执行问题

**测试一直失败**:
1. 检查步骤描述是否明确具体
2. 确认测试环境配置正确
3. 查看控制台错误信息
4. 尝试清除缓存: `pnpm cache:clear`

**可视化界面打不开**:
- 确认命令 `pnpm test:ui` 执行成功
- 浏览器访问 `http://localhost:51204`
- 检查防火墙或网络设置

### ❓ 其他常见问题

**权限问题 (Mac/Linux)**:
```bash
# 如果遇到权限错误，尝试：
sudo npm install -g pnpm
```

**网络问题**:
- 检查网络连接
- 尝试使用公司网络或切换网络环境
- 配置代理（如有需要）

## 🎉 开始你的测试之旅

### 快速开始步骤总结：

1. **安装软件**: Node.js + pnpm + VS Code
2. **获取项目**: 克隆或下载项目代码  
3. **安装依赖**: `pnpm install`
4. **配置环境**: 编辑 `credentials.env` 文件
5. **编写测试**: 在 `tests/scenarios/` 创建文本文件
6. **运行测试**: `pnpm test` 或 `pnpm test:ui`

### 下一步建议：

1. **先运行现有测试**: 体验整个流程
2. **修改示例测试**: 适应你的业务场景
3. **创建新测试**: 从简单功能开始
4. **学习最佳实践**: 参考上面的编写指南

---

**需要帮助？**
- 查看控制台错误信息
- 检查环境配置是否正确  
- 确认测试步骤描述是否明确

**祝你测试愉快！** 🚀